
################################
cmake.peakrdl/peakrdl_ipblocksvg
################################

.. module:: cmake.peakrdl/peakrdl_ipblocksvg


.. function:: peakrdl_ipblocksvg(IP_LIB **kwargs)

   Create a target for invoking PeakRDL-ipblocksvg on IP_LIB.
   
   PeakRDL-ipblocksvg generates IP block diagram like the one shown below.
   
   .. image:: ../../graphics/scr1_soc_top.png
    :width: 400
    :alt: Generated IP block diagram
   
   
   PeakRDL-ipblocksvg can be found on this `link <https://github.com/Risto97/PeakRDL-ipblocksvg>`_.
   It is important to have `inkscape <https://inkscape.org/>`_ installed on the system for this
   function to work. Function expects that **IP_LIB** *INTERFACE_LIBRARY* has **SYSTEMRDL_SOURCES**
   property set with a list of SystemRDL files to be used as inputs. To set the SYSTEMRDL_SOURCES
   property use the ip_sources() function from SoCMake (internally using `set_property()
   <https://cmake.org/cmake/help/latest/command/set_property.html>`_ CMake function):
   
   .. code-block:: cmake
   
      ip_sources(IP_LIB LANGUAGE [SYSTEMRDL|SYSTEMVERILOG|...] ${PROJECT_SOURCE_DIR}/file.rdl)
   
   This function will append .png files to the **GRAPHIC_FILES** of the **IP_LIB**.
   
   
   :param IP_LIB: RTL interface library, it needs to have SYSTEMRDL_SOURCES property set with a list
   of SystemRDL files.
   :type IP_LIB: INTERFACE_LIBRARY
   
   **Keyword Arguments**
   
   :keyword OUTDIR: output directory in which the files will be generated, if ommited
   ${BINARY_DIR}/ipblocksvg will be used.
   :type OUTDIR: string path
   :keyword TRAVERSE: option argument if passed, it will traverse the hierarchy and generate a .png
   file for each addrmap
   :type TRAVERSE: option
   :keyword APPEND_HIERPATH: Append hierarchical path to the output directory, for example if outdir
   is /home/user/test/ and hierarchy of Addrmap is soc.apb_subsystem.plic the output directory will be /home/user/test/soc/apb_subsystem/plic, use PATH_SUFFIX to append additional suffix to this path
   :type APPEND_HIERPATH: option
   :keyword PATH_SUFFIX: Append a path suffix to the output directory, for example if
   --path-suffix=docs/pictures and outdir is /home/user/test/, and APPEND_HIERPATH is active,
   addrmap hierarchy is soc.apb_subsystem.plic, the real output path will be
   /home/user/test/soc/apb_subsystem/plic/docs/pictures/
   :type PATH_SUFFIX: string
   :keyword LOGO: a logo can be placed in the middle of generated picture like shown in figure above.
   :type LOGO: string path
   

