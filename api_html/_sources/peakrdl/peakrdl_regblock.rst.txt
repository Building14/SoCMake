
##############################
cmake.peakrdl/peakrdl_regblock
##############################

.. module:: cmake.peakrdl/peakrdl_regblock


.. function:: peakrdl_regblock(IP_LIB **kwargs)

   Create a target for invoking PeakRDL-regblock on IP_LIB.
   
   PeakRDL-regblock is transforming SystemRDL input files to SystemVerilog register block files.
   Regblock documentation can be found on this `link <https://peakrdl-regblock.readthedocs.io/en/latest/>`_.
   
   Function expects that **${IP_LIB}** *INTERFACE_LIBRARY* has **SYSTEMRDL_SOURCES** property set with
   a list of SystemRDL files to be used as inputs. To set the SYSTEMRDL_SOURCES property use the ip_sources()
   function from SoCMake (internally using `set_property()
   <https://cmake.org/cmake/help/latest/command/set_property.html>`_ CMake function):
   
   .. code-block:: cmake
   
      ip_sources(IP_LIB LANGUAGE [SYSTEMRDL|SYSTEMVERILOG|...] ${PROJECT_SOURCE_DIR}/file.rdl)
   
   
   This function will append 2 generated files from PeakRDL-regblock to the **SOURCES** property of the
   **${IP_LIB}**.
   
   :param IP_LIB: RTL interface library, it needs to have SYSTEMRDL_SOURCES property set with a list of
   SystemRDL files.
   :type IP_LIB: INTERFACE_LIBRARY
   
   **Keyword Arguments**
   
   :keyword OUTDIR: output directory in which the files will be generated.
   If ommited ${BINARY_DIR}/regblock will be used.
   :type OUTDIR: string path
   :keyword RENAME: Rename the generated module and file name to a custom string, otherwise the
   name will be ${IP_LIB}.sv.
   :type RENAME: string
   :keyword INTF: Interface to use for the regblock. Possible values are:
   [apb3 (default), apb3-flat, apb4, apb4-flat, axi4-lite, axi4-lite-flat, avalon-mm, avalon-mm-flat, passthrough]
   :type INTF: string
   

