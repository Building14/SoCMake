<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-build_system/intro" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.1.1">
<title data-rh="true">Introduction | SoCMake</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://hep-soc.github.io/SoCMake/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://hep-soc.github.io/SoCMake/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://hep-soc.github.io/SoCMake/docs/build_system/intro"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Introduction | SoCMake"><meta data-rh="true" name="description" content="SoCMake is built on top of CMake."><meta data-rh="true" property="og:description" content="SoCMake is built on top of CMake."><link data-rh="true" rel="icon" href="/SoCMake/img/SoCMakeLogo3.svg"><link data-rh="true" rel="canonical" href="https://hep-soc.github.io/SoCMake/docs/build_system/intro"><link data-rh="true" rel="alternate" href="https://hep-soc.github.io/SoCMake/docs/build_system/intro" hreflang="en"><link data-rh="true" rel="alternate" href="https://hep-soc.github.io/SoCMake/docs/build_system/intro" hreflang="x-default"><link rel="stylesheet" href="/SoCMake/assets/css/styles.7e4d18c0.css">
<script src="/SoCMake/assets/js/runtime~main.781a22bd.js" defer="defer"></script>
<script src="/SoCMake/assets/js/main.9e77fa16.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/SoCMake/"><div class="navbar__logo"><img src="/SoCMake/img/SoCMakeLogo3.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/SoCMake/img/SoCMakeLogo3.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">SoCMake</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/SoCMake/docs/intro">Documentation</a></div><div class="navbar__items navbar__items--right"><a href="https://hep-soc.github.io/SoCMake/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitLab<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/SoCMake/docs/intro">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/SoCMake/docs/api_documentation">API documentation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/SoCMake/docs/getting_started">Getting Started</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/SoCMake/docs/category/build-system">Build System</a><button aria-label="Collapse sidebar category &#x27;Build System&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/SoCMake/docs/build_system/intro">Introduction</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/SoCMake/docs/category/examples">Examples</a><button aria-label="Expand sidebar category &#x27;Examples&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/SoCMake/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/SoCMake/docs/category/build-system"><span itemprop="name">Build System</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Introduction</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Introduction</h1>
<p>SoCMake is built on top of <a href="https://cmake.org/documentation/" target="_blank" rel="noopener noreferrer">CMake</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="cmake">CMake<a href="#cmake" class="hash-link" aria-label="Direct link to CMake" title="Direct link to CMake">​</a></h2>
<p>CMake stands for &quot;Cross-Platform Make&quot; and is a build system generator.
Being a build system generator CMake is not building the software on its own, but instead it generates Make/Ninja files that are used for the real compilation.</p>
<p>CMake build descriptions are described in a declarative CMake domain-specific language (DSL).
Although the CMake language has a lot of issues, it is still a very powerful tool, and the biggest advantage is its maturity and widespread usage.
Although C++ does not have a standard build system, CMake is surely the closest to being one.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="cmake-useful-links">CMake Useful links<a href="#cmake-useful-links" class="hash-link" aria-label="Direct link to CMake Useful links" title="Direct link to CMake Useful links">​</a></h3>
<p>There is plenty of CMake tutorials online and the documentation is decent, some useful links:</p>
<ul>
<li><a href="https://cmake.org/documentation/" target="_blank" rel="noopener noreferrer">Documentation</a></li>
<li><a href="https://cmake.org/cmake/help/latest/guide/tutorial/index.html" target="_blank" rel="noopener noreferrer">Official Tutorial</a></li>
<li><a href="https://pabloariasal.github.io/2018/02/19/its-time-to-do-cmake-right/" target="_blank" rel="noopener noreferrer">It&#x27;s Time To Do CMake Right</a></li>
<li><a href="https://www.youtube.com/watch?v=HPMvU64RUTY" target="_blank" rel="noopener noreferrer">Jason Turner Intro Video</a></li>
<li><a href="https://cliutils.gitlab.io/modern-cmake/" target="_blank" rel="noopener noreferrer">Modern CMake</a></li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="modern-cmake">Modern CMake<a href="#modern-cmake" class="hash-link" aria-label="Direct link to Modern CMake" title="Direct link to Modern CMake">​</a></h3>
<p>CMake has a bad reputation for it&#x27;s DSL, which could do things much better.
In CMake DSL every variable is a string, which can be pretty awkward and error prone at times.
Setting aside those problems, it is still a very good build tool, and it provides a lot of flexibility compared to other available build systems.</p>
<p>There is a big distinction between earlier versions of CMake and what is recommended today.
There are plenty of bad examples online of CMake code, typically coming from older CMake versions that one should avoid.</p>
<p>Modern CMake is all about creating targets instead of global variables, and this fits really well into hardware IP hierarchy as it will be explained later.
This page will not give a tutorial to CMake as it is already done really well in previously linked tutorials.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="socmake">SoCMake<a href="#socmake" class="hash-link" aria-label="Direct link to SoCMake" title="Direct link to SoCMake">​</a></h2>
<p>SoCMake is a set of functions for creating hardware IP blocks, composing them, packaging them and executing EDA tools on them.</p>
<p>The advantage to build systems like FuseSoC or hdlmake is that there is a native C++ compilation support through CMake itself.
This makes it that using SoCMake for verifying Systems On Chip (SoC), where it is needed to compile some application code for the processor, it is not needed to have another build system for C++ or C compilation.<br>
Very often today testbenches are written in C++ and simulated with Verilator, SoCMake also provides an easy way to create these testbenches and use common C++ build system for this task.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="socmake-ip-libraries">SoCMake IP libraries<a href="#socmake-ip-libraries" class="hash-link" aria-label="Direct link to SoCMake IP libraries" title="Direct link to SoCMake IP libraries">​</a></h3>
<p>The basic building block of SoCMake build system is an <code>IP library</code>, which is just a wrapper around CMake <a href="https://cmake.org/cmake/help/latest/command/add_library.html#interface-libraries" target="_blank" rel="noopener noreferrer">Interface Library</a>.
These library do not compile to any objects or executables, they are only used to carry files and information.
In case of Hardware designs, they can contain list of Verilog files.</p>
<p>Although it is possible to support additional languages like Verilog and &quot;compilers&quot; like Verilator in CMake, in SoCMake for simplicity reasons <a href="https://cmake.org/cmake/help/book/mastering-cmake/chapter/Custom%20Commands.html" target="_blank" rel="noopener noreferrer">approach</a> of <a href="https://cmake.org/cmake/help/latest/command/add_custom_target.html" target="_blank" rel="noopener noreferrer">add_custom_target()</a> and <a href="https://cmake.org/cmake/help/latest/command/add_custom_command.html" target="_blank" rel="noopener noreferrer">add_custom_command()</a> pairs is used to provide support for different tools like Verilator, Yosys, Vivado …</p>
<p>Modern CMake encourages the use of Targets instead of setting global variables. This way in SoCMake the way of passing different tool information and files along with your IP libraries is by setting different <a href="https://cmake.org/cmake/help/latest/command/set_property.html" target="_blank" rel="noopener noreferrer">properties</a> to IP library targets.</p>
<p>The SoCMake provides an API to abstract the usage of these CMake concepts.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="socmake-linking-ips-example">SoCMake linking IPs example<a href="#socmake-linking-ips-example" class="hash-link" aria-label="Direct link to SoCMake linking IPs example" title="Direct link to SoCMake linking IPs example">​</a></h3>
<!-- -->
<!-- -->
<p>SoCMake promotes hierarchical design, by organizing IP blocks into IP libraries, we can easily reuse IP blocks into different designs.
A simple example of such a IP hierarchy is shown below.</p>
<div id="graphviz0"></div>
<p>The full example is provided in the examples section <a href="/SoCMake/docs/examples/linking_ips">here</a></p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/build_system/intro.mdx" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/SoCMake/docs/category/build-system"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Build System</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/SoCMake/docs/category/examples"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Examples</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#cmake" class="table-of-contents__link toc-highlight">CMake</a><ul><li><a href="#cmake-useful-links" class="table-of-contents__link toc-highlight">CMake Useful links</a></li><li><a href="#modern-cmake" class="table-of-contents__link toc-highlight">Modern CMake</a></li></ul></li><li><a href="#socmake" class="table-of-contents__link toc-highlight">SoCMake</a><ul><li><a href="#socmake-ip-libraries" class="table-of-contents__link toc-highlight">SoCMake IP libraries</a></li><li><a href="#socmake-linking-ips-example" class="table-of-contents__link toc-highlight">SoCMake linking IPs example</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/SoCMake/docs/intro">Documentation</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright CERN © 2025, Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>