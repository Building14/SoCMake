(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[80],{869:(e,t,n)=>{"use strict";n.r(t),n.d(t,{assets:()=>u,cmakelists:()=>p,contentTitle:()=>c,default:()=>f,frontMatter:()=>l,metadata:()=>d,tb_v:()=>h,toc:()=>y});var r=n(4848),i=n(8453),a=n(1432),o=n(3554),s=n.n(o);const l={sidebar_position:1},c="Simulation",d={id:"examples/simulation",title:"Simulation",description:"In the previous section Getting Started, we saw how to download SoCMake inside our project.",source:"@site/docs/examples/simulation.md",sourceDirName:"examples",slug:"/examples/simulation",permalink:"/docs/examples/simulation",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/examples/simulation.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"Examples",permalink:"/docs/category/examples"},next:{title:"Hierarchical design",permalink:"/docs/examples/linking_ips"}},u={},h=n(2309).A,p=n(457).A,y=[{value:"tb.v",id:"tbv",level:2},{value:"CMakeLists.txt",id:"cmakeliststxt",level:2},{value:"add_ip()",id:"add_ip",level:3},{value:"ip_sources()",id:"ip_sources",level:3},{value:"iverilog()",id:"iverilog",level:3},{value:"verilator()",id:"verilator",level:3},{value:"Running the example",id:"running-the-example",level:2},{value:"Video example",id:"video-example",level:3},{value:"Instructions",id:"instructions",level:3}];function m(e){const t={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components},{Details:n}=t;return n||function(e,t){throw new Error("Expected "+(t?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.h1,{id:"simulation",children:"Simulation"}),"\n",(0,r.jsxs)(t.p,{children:["In the previous section ",(0,r.jsx)(t.a,{href:"/docs/getting_started",children:"Getting Started"}),", we saw how to download SoCMake inside our project."]}),"\n",(0,r.jsxs)(t.p,{children:["Let's try to run a simple Verilog testbench now with ",(0,r.jsx)(t.a,{href:"https://github.com/steveicarus/iverilog",children:"Icarus Verilog"})," and/or ",(0,r.jsx)(t.a,{href:"https://github.com/verilator/verilator",children:"Verilator"}),"."]}),"\n",(0,r.jsx)(t.p,{children:"For this step make sure you have Iverilog and/or Verilator installed on your system."}),"\n",(0,r.jsx)(t.p,{children:"Lets create a simple verilog testbench file:"}),"\n","\n","\n",(0,r.jsx)(t.h2,{id:"tbv",children:"tb.v"}),"\n",(0,r.jsx)(t.p,{children:"The following testbench will just print something to the stdout."}),"\n",(0,r.jsx)(a.A,{language:"verilog",title:"tb.v",showLineNumbers:!0,children:h}),"\n",(0,r.jsx)(t.h2,{id:"cmakeliststxt",children:"CMakeLists.txt"}),"\n",(0,r.jsxs)(t.p,{children:["The following ",(0,r.jsx)(t.code,{children:"CMakeLists.txt"})," will create a library, add sources and create verilator and iverilog Makefile targets."]}),"\n",(0,r.jsx)(a.A,{language:"cmake",title:"CMakeLists.txt",showLineNumbers:!0,children:p}),"\n",(0,r.jsx)(t.h3,{id:"add_ip",children:"add_ip()"}),"\n",(0,r.jsxs)(t.p,{children:["We are creating an ",(0,r.jsx)(t.code,{children:"IP"})," library called ",(0,r.jsx)(t.code,{children:"tb"})," using ",(0,r.jsx)(t.code,{children:"add_ip()"})," function.\nFunction add_ip takes the following arguments:"]}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:["First argument is positional ",(0,r.jsx)(t.strong,{children:"NAME"})," of the defined library"]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"VENDOR"})," - name of the vendor (your company, organization, ...)"]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"LIBRARY"})," - name of the library which the IP is part of"]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"VERSION"})," - Version number of the IP"]}),"\n"]}),"\n",(0,r.jsxs)(t.p,{children:["The library that will be created will hold a name ",(0,r.jsx)(t.strong,{children:"<VENDOR>"}),"__",(0,r.jsx)(t.strong,{children:"<LIBRARY>"}),"__",(0,r.jsx)(t.strong,{children:"<NAME>"}),"__",(0,r.jsx)(t.strong,{children:"<VERSION>"}),", there will be also a CMake ",(0,r.jsx)(t.a,{href:"https://cmake.org/cmake/help/latest/command/add_library.html#alias-libraries",children:"alias library"})," that is created with the name ",(0,r.jsx)(t.strong,{children:"<VENDOR>"}),"::",(0,r.jsx)(t.strong,{children:"<LIBRARY>"}),"::",(0,r.jsx)(t.strong,{children:"<NAME>"}),"::",(0,r.jsx)(t.strong,{children:"<VERSION>"}),"."]}),"\n",(0,r.jsxs)(t.p,{children:["In this a library called ",(0,r.jsx)(t.strong,{children:"cern::ip::tb::0.0.1"})," is created.",(0,r.jsx)("br",{}),"\nThis function also sets ",(0,r.jsx)(t.code,{children:"IP"})," variable in the current scope from where it was called. The IP will hold the non alias full library name."]}),"\n",(0,r.jsx)(t.h3,{id:"ip_sources",children:"ip_sources()"}),"\n",(0,r.jsxs)(t.p,{children:["To add design sources to the ",(0,r.jsx)(t.code,{children:"IP"})," library, we can use ",(0,r.jsx)(t.code,{children:"ip_sources()"})," function.\nThe function takes"]}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:["First argument is positional ",(0,r.jsx)(t.strong,{children:"NAME"})," of the library to add sources to."]}),"\n",(0,r.jsxs)(t.li,{children:["Second argument is positional ",(0,r.jsx)(t.strong,{children:"TYPE"})," and represents the file type to be added."]}),"\n",(0,r.jsxs)(t.li,{children:["Third argument is positional ",(0,r.jsx)(t.strong,{children:"SOURCES"})," and is a list of source files to be added"]}),"\n"]}),"\n",(0,r.jsxs)(t.admonition,{type:"info",children:[(0,r.jsxs)(t.p,{children:["Using just the name of the library ",(0,r.jsx)(t.code,{children:"tb"})," is possible only if the add_ip() call is in the same CMakeLists.txt (subdirectory), and it was the last library added.\nIn other cases you can use:"]}),(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.code,{children:"${IP}"})," same as ",(0,r.jsx)(t.code,{children:"tb"}),", should be in same subdirectory and last library added"]}),"\n",(0,r.jsxs)(t.li,{children:["Full name ",(0,r.jsx)(t.code,{children:"cern__ip__tb__0.0.1"})," (always works, from any subdirectory)"]}),"\n",(0,r.jsxs)(t.li,{children:["Alias libray name ",(0,r.jsx)(t.code,{children:"cern::ip::tb::0.0.1"})," (always works, from any subdirectory)"]}),"\n"]})]}),"\n",(0,r.jsx)(t.h3,{id:"iverilog",children:"iverilog()"}),"\n",(0,r.jsxs)(t.p,{children:["This function will add a target to compile the Icarus Verilog testbench.\nThe name of the created ",(0,r.jsx)(t.code,{children:"Makefile"})," target will be: ",(0,r.jsx)(t.code,{children:"${IP}_iverilog"})," in this case : ",(0,r.jsx)(t.code,{children:"cern__ip__tb__0.0.1_iverilog"}),"."]}),"\n",(0,r.jsx)(t.h3,{id:"verilator",children:"verilator()"}),"\n",(0,r.jsxs)(t.p,{children:["This function will add a target to compile the Verilator testbench.\nIn this case because it is a Verilog only testbench, we are passing ",(0,r.jsx)(t.code,{children:"MAIN"})," argument, to let Verilator create a ",(0,r.jsx)(t.code,{children:"main.cpp"})," file for us.",(0,r.jsx)("br",{}),"\nFor a custom C++ testbench checkout the next example."]}),"\n",(0,r.jsxs)(t.p,{children:["The name of the created ",(0,r.jsx)(t.code,{children:"Makefile"})," target will be: ",(0,r.jsx)(t.code,{children:"${IP}_verilate"})," in this case : ",(0,r.jsx)(t.code,{children:"cern__ip__tb__0.0.1_verilate"}),"."]}),"\n",(0,r.jsx)(t.h2,{id:"running-the-example",children:"Running the example"}),"\n",(0,r.jsx)(t.h3,{id:"video-example",children:"Video example"}),"\n",(0,r.jsx)(t.p,{children:"Checkout the video example below to see how to run the simulation."}),"\n",(0,r.jsxs)(n,{children:[(0,r.jsx)("summary",{children:(0,r.jsx)("strong",{children:"Video demonstration"})}),(0,r.jsx)(s(),{width:"100%",height:"100%",controls:!0,url:"/examples/sim_example.mp4"})]}),"\n",(0,r.jsx)(t.h3,{id:"instructions",children:"Instructions"}),"\n",(0,r.jsx)(t.p,{children:"To run the example we need to create a build directory as always:"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-bash",children:"mkdir build\ncd build\n"})}),"\n",(0,r.jsx)(t.p,{children:"Then we generate Makefiles with:"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-bash",children:"cmake ../\n"})}),"\n",(0,r.jsxs)(t.p,{children:["Now we have ",(0,r.jsx)(t.code,{children:"Makefile"})," in the build directory, which contain generated targets.\nThe targets we are interested in are:"]}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.code,{children:"cern__ip__tb__0.0.1_iverilog"})}),"\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.code,{children:"cern__ip__tb__0.0.1_verilate"})}),"\n"]}),"\n",(0,r.jsx)(t.p,{children:"To run the simulation we can do:"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-bash",children:"make cern__ip__tb__0.0.1_iverilog              # Compile with Icarus Verilog`\nmake cern__ip__tb__0.0.1_verilate -j$(nproc)   # Compile with Verilator`\n"})}),"\n",(0,r.jsxs)(t.p,{children:["We can compile Verilator testbench with maximum threads with ",(0,r.jsx)(t.code,{children:"-j$(nproc)"})," flag."]}),"\n",(0,r.jsxs)(t.p,{children:["Once we execute one or both of these targets we will have the testbenches compiled as executables and available to run as a normal executables.\nThe executables will be present in ",(0,r.jsx)(t.code,{children:"${PROJECT_BINARY_DIR}"})," in this case ",(0,r.jsx)(t.code,{children:"build"})," directory."]}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.code,{children:"cern__ip__tb__0.0.1_iv"})}),"\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.code,{children:"cern__ip__tb__0.0.1_verilator_tb"})}),"\n"]})]})}function f(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(m,{...e})}):m(e)}},4744:e=>{"use strict";var t=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===n}(e)}(e)};var n="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function r(e,t){return!1!==t.clone&&t.isMergeableObject(e)?l((n=e,Array.isArray(n)?[]:{}),e,t):e;var n}function i(e,t,n){return e.concat(t).map((function(e){return r(e,n)}))}function a(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return Object.propertyIsEnumerable.call(e,t)})):[]}(e))}function o(e,t){try{return t in e}catch(n){return!1}}function s(e,t,n){var i={};return n.isMergeableObject(e)&&a(e).forEach((function(t){i[t]=r(e[t],n)})),a(t).forEach((function(a){(function(e,t){return o(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,a)||(o(e,a)&&n.isMergeableObject(t[a])?i[a]=function(e,t){if(!t.customMerge)return l;var n=t.customMerge(e);return"function"==typeof n?n:l}(a,n)(e[a],t[a],n):i[a]=r(t[a],n))})),i}function l(e,n,a){(a=a||{}).arrayMerge=a.arrayMerge||i,a.isMergeableObject=a.isMergeableObject||t,a.cloneUnlessOtherwiseSpecified=r;var o=Array.isArray(n);return o===Array.isArray(e)?o?a.arrayMerge(e,n,a):s(e,n,a):r(n,a)}l.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,n){return l(e,n,t)}),{})};var c=l;e.exports=c},6147:e=>{function t(e,t){e.onload=function(){this.onerror=this.onload=null,t(null,e)},e.onerror=function(){this.onerror=this.onload=null,t(new Error("Failed to load "+this.src),e)}}function n(e,t){e.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||(this.onreadystatechange=null,t(null,e))}}e.exports=function(e,r,i){var a=document.head||document.getElementsByTagName("head")[0],o=document.createElement("script");"function"==typeof r&&(i=r,r={}),r=r||{},i=i||function(){},o.type=r.type||"text/javascript",o.charset=r.charset||"utf8",o.async=!("async"in r)||!!r.async,o.src=e,r.attrs&&function(e,t){for(var n in t)e.setAttribute(n,t[n])}(o,r.attrs),r.text&&(o.text=""+r.text),("onload"in o?t:n)(o,i),o.onload||t(o,i),a.appendChild(o)}},1811:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var r=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function i(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(i=e[n],a=t[n],!(i===a||r(i)&&r(a)))return!1;var i,a;return!0}const a=function(e,t){var n;void 0===t&&(t=i);var r,a=[],o=!1;return function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return o&&n===this&&t(i,a)||(r=e.apply(this,i),o=!0,n=this,a=i),r}}},457:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r='cmake_minimum_required(VERSION 3.25)\nproject(example NONE)\n\ninclude("deps/deps.cmake")\n\nadd_ip(tb           # Name of the IP block\n    VENDOR cern     # Vendor name (can be ommited, but not recommended)\n    LIBRARY ip      # Library name (can be ommited, but not recommended)\n    VERSION 0.0.1   # Version Number (can be ommited, but not recommended)\n    )\n\nip_sources(tb VERILOG           # Add source files to the VERILOG file set\n    ${PROJECT_SOURCE_DIR}/tb.v\n    )\n\niverilog(tb) # Create iverilog target\n\nverilate(tb  # Create verilate target\n    MAIN     # Let Verilator create a main.cpp testbench\n    )\n'},2309:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r='module tb;\n initial begin\n     $display("Simulated with Iverilog, from SoCMake build system\\n");\n     $finish();\n end\n endmodule\n'},8021:(e,t,n)=>{var r,i=Object.create,a=Object.defineProperty,o=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,l=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,d=(e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let i of s(t))c.call(e,i)||i===n||a(e,i,{get:()=>t[i],enumerable:!(r=o(t,i))||r.enumerable});return e},u=(e,t,n)=>(n=null!=e?i(l(e)):{},d(!t&&e&&e.__esModule?n:a(n,"default",{value:e,enumerable:!0}),e)),h=(e,t,n)=>(((e,t,n)=>{t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n),p={};((e,t)=>{for(var n in t)a(e,n,{get:t[n],enumerable:!0})})(p,{default:()=>g}),e.exports=(r=p,d(a({},"__esModule",{value:!0}),r));var y=u(n(6540)),m=u(n(115)),f=n(7604),b=n(5635);class g extends y.Component{constructor(){super(...arguments),h(this,"mounted",!1),h(this,"isReady",!1),h(this,"isPlaying",!1),h(this,"isLoading",!0),h(this,"loadOnReady",null),h(this,"startOnPlay",!0),h(this,"seekOnPlay",null),h(this,"onDurationCalled",!1),h(this,"handlePlayerMount",(e=>{this.player||(this.player=e,this.player.load(this.props.url)),this.progress()})),h(this,"getInternalPlayer",(e=>this.player?this.player[e]:null)),h(this,"progress",(()=>{if(this.props.url&&this.player&&this.isReady){const e=this.getCurrentTime()||0,t=this.getSecondsLoaded(),n=this.getDuration();if(n){const r={playedSeconds:e,played:e/n};null!==t&&(r.loadedSeconds=t,r.loaded=t/n),r.playedSeconds===this.prevPlayed&&r.loadedSeconds===this.prevLoaded||this.props.onProgress(r),this.prevPlayed=r.playedSeconds,this.prevLoaded=r.loadedSeconds}}this.progressTimeout=setTimeout(this.progress,this.props.progressFrequency||this.props.progressInterval)})),h(this,"handleReady",(()=>{if(!this.mounted)return;this.isReady=!0,this.isLoading=!1;const{onReady:e,playing:t,volume:n,muted:r}=this.props;e(),r||null===n||this.player.setVolume(n),this.loadOnReady?(this.player.load(this.loadOnReady,!0),this.loadOnReady=null):t&&this.player.play(),this.handleDurationCheck()})),h(this,"handlePlay",(()=>{this.isPlaying=!0,this.isLoading=!1;const{onStart:e,onPlay:t,playbackRate:n}=this.props;this.startOnPlay&&(this.player.setPlaybackRate&&1!==n&&this.player.setPlaybackRate(n),e(),this.startOnPlay=!1),t(),this.seekOnPlay&&(this.seekTo(this.seekOnPlay),this.seekOnPlay=null),this.handleDurationCheck()})),h(this,"handlePause",(e=>{this.isPlaying=!1,this.isLoading||this.props.onPause(e)})),h(this,"handleEnded",(()=>{const{activePlayer:e,loop:t,onEnded:n}=this.props;e.loopOnEnded&&t&&this.seekTo(0),t||(this.isPlaying=!1,n())})),h(this,"handleError",((...e)=>{this.isLoading=!1,this.props.onError(...e)})),h(this,"handleDurationCheck",(()=>{clearTimeout(this.durationCheckTimeout);const e=this.getDuration();e?this.onDurationCalled||(this.props.onDuration(e),this.onDurationCalled=!0):this.durationCheckTimeout=setTimeout(this.handleDurationCheck,100)})),h(this,"handleLoaded",(()=>{this.isLoading=!1}))}componentDidMount(){this.mounted=!0}componentWillUnmount(){clearTimeout(this.progressTimeout),clearTimeout(this.durationCheckTimeout),this.isReady&&this.props.stopOnUnmount&&(this.player.stop(),this.player.disablePIP&&this.player.disablePIP()),this.mounted=!1}componentDidUpdate(e){if(!this.player)return;const{url:t,playing:n,volume:r,muted:i,playbackRate:a,pip:o,loop:s,activePlayer:l,disableDeferredLoading:c}=this.props;if(!(0,m.default)(e.url,t)){if(this.isLoading&&!l.forceLoad&&!c&&!(0,b.isMediaStream)(t))return console.warn(`ReactPlayer: the attempt to load ${t} is being deferred until the player has loaded`),void(this.loadOnReady=t);this.isLoading=!0,this.startOnPlay=!0,this.onDurationCalled=!1,this.player.load(t,this.isReady)}e.playing||!n||this.isPlaying||this.player.play(),e.playing&&!n&&this.isPlaying&&this.player.pause(),!e.pip&&o&&this.player.enablePIP&&this.player.enablePIP(),e.pip&&!o&&this.player.disablePIP&&this.player.disablePIP(),e.volume!==r&&null!==r&&this.player.setVolume(r),e.muted!==i&&(i?this.player.mute():(this.player.unmute(),null!==r&&setTimeout((()=>this.player.setVolume(r))))),e.playbackRate!==a&&this.player.setPlaybackRate&&this.player.setPlaybackRate(a),e.loop!==s&&this.player.setLoop&&this.player.setLoop(s)}getDuration(){return this.isReady?this.player.getDuration():null}getCurrentTime(){return this.isReady?this.player.getCurrentTime():null}getSecondsLoaded(){return this.isReady?this.player.getSecondsLoaded():null}seekTo(e,t,n){if(!this.isReady)return void(0!==e&&(this.seekOnPlay=e,setTimeout((()=>{this.seekOnPlay=null}),5e3)));if(t?"fraction"===t:e>0&&e<1){const t=this.player.getDuration();return t?void this.player.seekTo(t*e,n):void console.warn("ReactPlayer: could not seek using fraction \u2013\xa0duration not yet available")}this.player.seekTo(e,n)}render(){const e=this.props.activePlayer;return e?y.default.createElement(e,{...this.props,onMount:this.handlePlayerMount,onReady:this.handleReady,onPlay:this.handlePlay,onPause:this.handlePause,onEnded:this.handleEnded,onLoaded:this.handleLoaded,onError:this.handleError}):null}}h(g,"displayName","Player"),h(g,"propTypes",f.propTypes),h(g,"defaultProps",f.defaultProps)},5580:(e,t,n)=>{var r,i=Object.create,a=Object.defineProperty,o=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,l=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,d=(e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let i of s(t))c.call(e,i)||i===n||a(e,i,{get:()=>t[i],enumerable:!(r=o(t,i))||r.enumerable});return e},u=(e,t,n)=>(n=null!=e?i(l(e)):{},d(!t&&e&&e.__esModule?n:a(n,"default",{value:e,enumerable:!0}),e)),h=(e,t,n)=>(((e,t,n)=>{t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n),p={};((e,t)=>{for(var n in t)a(e,n,{get:t[n],enumerable:!0})})(p,{createReactPlayer:()=>I}),e.exports=(r=p,d(a({},"__esModule",{value:!0}),r));var y=u(n(6540)),m=u(n(4744)),f=u(n(1811)),b=u(n(115)),g=n(7604),v=n(5635),w=u(n(8021));const P=(0,v.lazy)((()=>n.e(353).then(n.t.bind(n,6734,23)))),j="undefined"!=typeof window&&window.document,x=void 0!==n.g&&n.g.window&&n.g.window.document,_=Object.keys(g.propTypes),O=j||x?y.Suspense:()=>null,k=[],I=(e,t)=>{var n;return n=class extends y.Component{constructor(){super(...arguments),h(this,"state",{showPreview:!!this.props.light}),h(this,"references",{wrapper:e=>{this.wrapper=e},player:e=>{this.player=e}}),h(this,"handleClickPreview",(e=>{this.setState({showPreview:!1}),this.props.onClickPreview(e)})),h(this,"showPreview",(()=>{this.setState({showPreview:!0})})),h(this,"getDuration",(()=>this.player?this.player.getDuration():null)),h(this,"getCurrentTime",(()=>this.player?this.player.getCurrentTime():null)),h(this,"getSecondsLoaded",(()=>this.player?this.player.getSecondsLoaded():null)),h(this,"getInternalPlayer",((e="player")=>this.player?this.player.getInternalPlayer(e):null)),h(this,"seekTo",((e,t,n)=>{if(!this.player)return null;this.player.seekTo(e,t,n)})),h(this,"handleReady",(()=>{this.props.onReady(this)})),h(this,"getActivePlayer",(0,f.default)((n=>{for(const t of[...k,...e])if(t.canPlay(n))return t;return t||null}))),h(this,"getConfig",(0,f.default)(((e,t)=>{const{config:n}=this.props;return m.default.all([g.defaultProps.config,g.defaultProps.config[t]||{},n,n[t]||{}])}))),h(this,"getAttributes",(0,f.default)((e=>(0,v.omit)(this.props,_)))),h(this,"renderActivePlayer",(e=>{if(!e)return null;const t=this.getActivePlayer(e);if(!t)return null;const n=this.getConfig(e,t.key);return y.default.createElement(w.default,{...this.props,key:t.key,ref:this.references.player,config:n,activePlayer:t.lazyPlayer||t,onReady:this.handleReady})}))}shouldComponentUpdate(e,t){return!(0,b.default)(this.props,e)||!(0,b.default)(this.state,t)}componentDidUpdate(e){const{light:t}=this.props;!e.light&&t&&this.setState({showPreview:!0}),e.light&&!t&&this.setState({showPreview:!1})}renderPreview(e){if(!e)return null;const{light:t,playIcon:n,previewTabIndex:r,oEmbedUrl:i}=this.props;return y.default.createElement(P,{url:e,light:t,playIcon:n,previewTabIndex:r,oEmbedUrl:i,onClick:this.handleClickPreview})}render(){const{url:e,style:t,width:n,height:r,fallback:i,wrapper:a}=this.props,{showPreview:o}=this.state,s=this.getAttributes(e),l="string"==typeof a?this.references.wrapper:void 0;return y.default.createElement(a,{ref:l,style:{...t,width:n,height:r},...s},y.default.createElement(O,{fallback:i},o?this.renderPreview(e):this.renderActivePlayer(e)))}},h(n,"displayName","ReactPlayer"),h(n,"propTypes",g.propTypes),h(n,"defaultProps",g.defaultProps),h(n,"addCustomPlayer",(e=>{k.push(e)})),h(n,"removeCustomPlayers",(()=>{k.length=0})),h(n,"canPlay",(t=>{for(const n of[...k,...e])if(n.canPlay(t))return!0;return!1})),h(n,"canEnablePIP",(t=>{for(const n of[...k,...e])if(n.canEnablePIP&&n.canEnablePIP(t))return!0;return!1})),n}},3554:(e,t,n)=>{var r,i=Object.create,a=Object.defineProperty,o=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,l=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,d=(e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let i of s(t))c.call(e,i)||i===n||a(e,i,{get:()=>t[i],enumerable:!(r=o(t,i))||r.enumerable});return e},u={};((e,t)=>{for(var n in t)a(e,n,{get:t[n],enumerable:!0})})(u,{default:()=>m}),e.exports=(r=u,d(a({},"__esModule",{value:!0}),r));var h=((e,t,n)=>(n=null!=e?i(l(e)):{},d(!t&&e&&e.__esModule?n:a(n,"default",{value:e,enumerable:!0}),e)))(n(7015)),p=n(5580);const y=h.default[h.default.length-1];var m=(0,p.createReactPlayer)(h.default,y)},327:(e,t,n)=>{var r,i=Object.defineProperty,a=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,s=Object.prototype.hasOwnProperty,l={};((e,t)=>{for(var n in t)i(e,n,{get:t[n],enumerable:!0})})(l,{AUDIO_EXTENSIONS:()=>x,DASH_EXTENSIONS:()=>k,FLV_EXTENSIONS:()=>I,HLS_EXTENSIONS:()=>O,MATCH_URL_DAILYMOTION:()=>v,MATCH_URL_FACEBOOK:()=>p,MATCH_URL_FACEBOOK_WATCH:()=>y,MATCH_URL_KALTURA:()=>j,MATCH_URL_MIXCLOUD:()=>w,MATCH_URL_SOUNDCLOUD:()=>u,MATCH_URL_STREAMABLE:()=>m,MATCH_URL_TWITCH_CHANNEL:()=>g,MATCH_URL_TWITCH_VIDEO:()=>b,MATCH_URL_VIDYARD:()=>P,MATCH_URL_VIMEO:()=>h,MATCH_URL_WISTIA:()=>f,MATCH_URL_YOUTUBE:()=>d,VIDEO_EXTENSIONS:()=>_,canPlay:()=>E}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let l of o(t))s.call(e,l)||l===n||i(e,l,{get:()=>t[l],enumerable:!(r=a(t,l))||r.enumerable});return e})(i({},"__esModule",{value:!0}),r));var c=n(5635);const d=/(?:youtu\.be\/|youtube(?:-nocookie|education)?\.com\/(?:embed\/|v\/|watch\/|watch\?v=|watch\?.+&v=|shorts\/|live\/))((\w|-){11})|youtube\.com\/playlist\?list=|youtube\.com\/user\//,u=/(?:soundcloud\.com|snd\.sc)\/[^.]+$/,h=/vimeo\.com\/(?!progressive_redirect).+/,p=/^https?:\/\/(www\.)?facebook\.com.*\/(video(s)?|watch|story)(\.php?|\/).+$/,y=/^https?:\/\/fb\.watch\/.+$/,m=/streamable\.com\/([a-z0-9]+)$/,f=/(?:wistia\.(?:com|net)|wi\.st)\/(?:medias|embed)\/(?:iframe\/)?([^?]+)/,b=/(?:www\.|go\.)?twitch\.tv\/videos\/(\d+)($|\?)/,g=/(?:www\.|go\.)?twitch\.tv\/([a-zA-Z0-9_]+)($|\?)/,v=/^(?:(?:https?):)?(?:\/\/)?(?:www\.)?(?:(?:dailymotion\.com(?:\/embed)?\/video)|dai\.ly)\/([a-zA-Z0-9]+)(?:_[\w_-]+)?(?:[\w.#_-]+)?/,w=/mixcloud\.com\/([^/]+\/[^/]+)/,P=/vidyard.com\/(?:watch\/)?([a-zA-Z0-9-_]+)/,j=/^https?:\/\/[a-zA-Z]+\.kaltura.(com|org)\/p\/([0-9]+)\/sp\/([0-9]+)00\/embedIframeJs\/uiconf_id\/([0-9]+)\/partner_id\/([0-9]+)(.*)entry_id.([a-zA-Z0-9-_].*)$/,x=/\.(m4a|m4b|mp4a|mpga|mp2|mp2a|mp3|m2a|m3a|wav|weba|aac|oga|spx)($|\?)/i,_=/\.(mp4|og[gv]|webm|mov|m4v)(#t=[,\d+]+)?($|\?)/i,O=/\.(m3u8)($|\?)/i,k=/\.(mpd)($|\?)/i,I=/\.(flv)($|\?)/i,T=e=>{if(e instanceof Array){for(const t of e){if("string"==typeof t&&T(t))return!0;if(T(t.src))return!0}return!1}return!(!(0,c.isMediaStream)(e)&&!(0,c.isBlobUrl)(e))||(x.test(e)||_.test(e)||O.test(e)||k.test(e)||I.test(e))},E={youtube:e=>e instanceof Array?e.every((e=>d.test(e))):d.test(e),soundcloud:e=>u.test(e)&&!x.test(e),vimeo:e=>h.test(e)&&!_.test(e)&&!O.test(e),facebook:e=>p.test(e)||y.test(e),streamable:e=>m.test(e),wistia:e=>f.test(e),twitch:e=>b.test(e)||g.test(e),dailymotion:e=>v.test(e),mixcloud:e=>w.test(e),vidyard:e=>P.test(e),kaltura:e=>j.test(e),file:T}},7015:(e,t,n)=>{Object.create;var r,i=Object.defineProperty,a=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,s=(Object.getPrototypeOf,Object.prototype.hasOwnProperty),l=(e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let l of o(t))s.call(e,l)||l===n||i(e,l,{get:()=>t[l],enumerable:!(r=a(t,l))||r.enumerable});return e},c={};((e,t)=>{for(var n in t)i(e,n,{get:t[n],enumerable:!0})})(c,{default:()=>h}),e.exports=(r=c,l(i({},"__esModule",{value:!0}),r));var d=n(5635),u=n(327),h=[{key:"youtube",name:"YouTube",canPlay:u.canPlay.youtube,lazyPlayer:(0,d.lazy)((()=>n.e(446).then(n.t.bind(n,2910,23))))},{key:"soundcloud",name:"SoundCloud",canPlay:u.canPlay.soundcloud,lazyPlayer:(0,d.lazy)((()=>n.e(979).then(n.t.bind(n,3127,23))))},{key:"vimeo",name:"Vimeo",canPlay:u.canPlay.vimeo,lazyPlayer:(0,d.lazy)((()=>n.e(173).then(n.t.bind(n,1423,23))))},{key:"facebook",name:"Facebook",canPlay:u.canPlay.facebook,lazyPlayer:(0,d.lazy)((()=>n.e(887).then(n.t.bind(n,1343,23))))},{key:"streamable",name:"Streamable",canPlay:u.canPlay.streamable,lazyPlayer:(0,d.lazy)((()=>n.e(627).then(n.t.bind(n,9643,23))))},{key:"wistia",name:"Wistia",canPlay:u.canPlay.wistia,lazyPlayer:(0,d.lazy)((()=>n.e(340).then(n.t.bind(n,3330,23))))},{key:"twitch",name:"Twitch",canPlay:u.canPlay.twitch,lazyPlayer:(0,d.lazy)((()=>n.e(42).then(n.t.bind(n,1400,23))))},{key:"dailymotion",name:"DailyMotion",canPlay:u.canPlay.dailymotion,lazyPlayer:(0,d.lazy)((()=>n.e(328).then(n.t.bind(n,9348,23))))},{key:"mixcloud",name:"Mixcloud",canPlay:u.canPlay.mixcloud,lazyPlayer:(0,d.lazy)((()=>n.e(570).then(n.t.bind(n,3276,23))))},{key:"vidyard",name:"Vidyard",canPlay:u.canPlay.vidyard,lazyPlayer:(0,d.lazy)((()=>n.e(392).then(n.t.bind(n,3552,23))))},{key:"kaltura",name:"Kaltura",canPlay:u.canPlay.kaltura,lazyPlayer:(0,d.lazy)((()=>n.e(463).then(n.t.bind(n,7945,23))))},{key:"file",name:"FilePlayer",canPlay:u.canPlay.file,canEnablePIP:e=>u.canPlay.file(e)&&(document.pictureInPictureEnabled||(0,d.supportsWebKitPresentationMode)())&&!u.AUDIO_EXTENSIONS.test(e),lazyPlayer:(0,d.lazy)((()=>n.e(458).then(n.t.bind(n,688,23))))}]},7604:(e,t,n)=>{var r,i=Object.create,a=Object.defineProperty,o=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,l=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,d=(e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let i of s(t))c.call(e,i)||i===n||a(e,i,{get:()=>t[i],enumerable:!(r=o(t,i))||r.enumerable});return e},u={};((e,t)=>{for(var n in t)a(e,n,{get:t[n],enumerable:!0})})(u,{defaultProps:()=>_,propTypes:()=>j}),e.exports=(r=u,d(a({},"__esModule",{value:!0}),r));var h=((e,t,n)=>(n=null!=e?i(l(e)):{},d(!t&&e&&e.__esModule?n:a(n,"default",{value:e,enumerable:!0}),e)))(n(5556));const{string:p,bool:y,number:m,array:f,oneOfType:b,shape:g,object:v,func:w,node:P}=h.default,j={url:b([p,f,v]),playing:y,loop:y,controls:y,volume:m,muted:y,playbackRate:m,width:b([p,m]),height:b([p,m]),style:v,progressInterval:m,playsinline:y,pip:y,stopOnUnmount:y,light:b([y,p,v]),playIcon:P,previewTabIndex:m,fallback:P,oEmbedUrl:p,wrapper:b([p,w,g({render:w.isRequired})]),config:g({soundcloud:g({options:v}),youtube:g({playerVars:v,embedOptions:v,onUnstarted:w}),facebook:g({appId:p,version:p,playerId:p,attributes:v}),dailymotion:g({params:v}),vimeo:g({playerOptions:v,title:p}),file:g({attributes:v,tracks:f,forceVideo:y,forceAudio:y,forceHLS:y,forceSafariHLS:y,forceDisableHls:y,forceDASH:y,forceFLV:y,hlsOptions:v,hlsVersion:p,dashVersion:p,flvVersion:p}),wistia:g({options:v,playerId:p,customControls:f}),mixcloud:g({options:v}),twitch:g({options:v,playerId:p}),vidyard:g({options:v})}),onReady:w,onStart:w,onPlay:w,onPause:w,onBuffer:w,onBufferEnd:w,onEnded:w,onError:w,onDuration:w,onSeek:w,onPlaybackRateChange:w,onPlaybackQualityChange:w,onProgress:w,onClickPreview:w,onEnablePIP:w,onDisablePIP:w},x=()=>{},_={playing:!1,loop:!1,controls:!1,volume:null,muted:!1,playbackRate:1,width:"640px",height:"360px",style:{},progressInterval:1e3,playsinline:!1,pip:!1,stopOnUnmount:!0,light:!1,fallback:null,wrapper:"div",previewTabIndex:0,oEmbedUrl:"https://noembed.com/embed?url={url}",config:{soundcloud:{options:{visual:!0,buying:!1,liking:!1,download:!1,sharing:!1,show_comments:!1,show_playcount:!1}},youtube:{playerVars:{playsinline:1,showinfo:0,rel:0,iv_load_policy:3,modestbranding:1},embedOptions:{},onUnstarted:x},facebook:{appId:"1309697205772819",version:"v3.3",playerId:null,attributes:{}},dailymotion:{params:{api:1,"endscreen-enable":!1}},vimeo:{playerOptions:{autopause:!1,byline:!1,portrait:!1,title:!1},title:null},file:{attributes:{},tracks:[],forceVideo:!1,forceAudio:!1,forceHLS:!1,forceDASH:!1,forceFLV:!1,hlsOptions:{},hlsVersion:"1.1.4",dashVersion:"3.1.3",flvVersion:"1.5.0",forceDisableHls:!1},wistia:{options:{},playerId:null,customControls:null},mixcloud:{options:{hide_cover:1}},twitch:{options:{},playerId:null},vidyard:{options:{}}},onReady:x,onStart:x,onPlay:x,onPause:x,onBuffer:x,onBufferEnd:x,onEnded:x,onError:x,onDuration:x,onSeek:x,onPlaybackRateChange:x,onPlaybackQualityChange:x,onProgress:x,onClickPreview:x,onEnablePIP:x,onDisablePIP:x}},5635:(e,t,n)=>{var r,i=Object.create,a=Object.defineProperty,o=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,l=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,d=(e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let i of s(t))c.call(e,i)||i===n||a(e,i,{get:()=>t[i],enumerable:!(r=o(t,i))||r.enumerable});return e},u=(e,t,n)=>(n=null!=e?i(l(e)):{},d(!t&&e&&e.__esModule?n:a(n,"default",{value:e,enumerable:!0}),e)),h={};((e,t)=>{for(var n in t)a(e,n,{get:t[n],enumerable:!0})})(h,{callPlayer:()=>S,getConfig:()=>E,getSDK:()=>T,isBlobUrl:()=>M,isMediaStream:()=>C,lazy:()=>f,omit:()=>R,parseEndTime:()=>x,parseStartTime:()=>j,queryString:()=>O,randomString:()=>_,supportsWebKitPresentationMode:()=>A}),e.exports=(r=h,d(a({},"__esModule",{value:!0}),r));var p=u(n(6540)),y=u(n(6147)),m=u(n(4744));const f=e=>p.default.lazy((async()=>{const t=await e();return"function"==typeof t.default?t:t.default})),b=/[?&#](?:start|t)=([0-9hms]+)/,g=/[?&#]end=([0-9hms]+)/,v=/(\d+)(h|m|s)/g,w=/^\d+$/;function P(e,t){if(e instanceof Array)return;const n=e.match(t);if(n){const e=n[1];if(e.match(v))return function(e){let t=0,n=v.exec(e);for(;null!==n;){const[,r,i]=n;"h"===i&&(t+=60*parseInt(r,10)*60),"m"===i&&(t+=60*parseInt(r,10)),"s"===i&&(t+=parseInt(r,10)),n=v.exec(e)}return t}(e);if(w.test(e))return parseInt(e)}}function j(e){return P(e,b)}function x(e){return P(e,g)}function _(){return Math.random().toString(36).substr(2,5)}function O(e){return Object.keys(e).map((t=>`${t}=${e[t]}`)).join("&")}function k(e){return window[e]?window[e]:window.exports&&window.exports[e]?window.exports[e]:window.module&&window.module.exports&&window.module.exports[e]?window.module.exports[e]:null}const I={},T=function(e){0;return e}((function(e,t,n=null,r=(()=>!0),i=y.default){const a=k(t);return a&&r(a)?Promise.resolve(a):new Promise(((r,a)=>{if(I[e])return void I[e].push({resolve:r,reject:a});I[e]=[{resolve:r,reject:a}];const o=t=>{I[e].forEach((e=>e.resolve(t)))};if(n){const e=window[n];window[n]=function(){e&&e(),o(k(t))}}i(e,(r=>{r?(I[e].forEach((e=>e.reject(r))),I[e]=null):n||o(k(t))}))}))}));function E(e,t){return(0,m.default)(t.config,e.config)}function R(e,...t){const n=[].concat(...t),r={},i=Object.keys(e);for(const a of i)-1===n.indexOf(a)&&(r[a]=e[a]);return r}function S(e,...t){if(!this.player||!this.player[e]){let t=`ReactPlayer: ${this.constructor.displayName} player could not call %c${e}%c \u2013 `;return this.player?this.player[e]||(t+="The method was not available"):t+="The player was not available",console.warn(t,"font-weight: bold",""),null}return this.player[e](...t)}function C(e){return"undefined"!=typeof window&&void 0!==window.MediaStream&&e instanceof window.MediaStream}function M(e){return/^blob:/.test(e)}function A(e=document.createElement("video")){const t=!1===/iPhone|iPod/.test(navigator.userAgent);return e.webkitSupportsPresentationMode&&"function"==typeof e.webkitSetPresentationMode&&t}}}]);